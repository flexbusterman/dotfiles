#!/bin/bash
# echo $arr[0]
mapfile -t programs < <(cat ~/.config/shortcuts | awk '{ printf "%s\n",$1 }')
mapfile -t files < <(cat ~/.config/shortcuts | awk '{ printf "%s\n",$(NF) }')

program=$(printf "%s\n" "${programs[@]}" | fzf)

if [[ -z $program ]]; then
   # notify-send "nothing selected, exiting"
   exit 1;
fi

for i in "${!programs[@]}"; do
   if [[ "${programs[$i]}" = "${program}" ]]; then
       index=${i}
   fi
done

path=${files[$index]}
substituted=$(echo $path | sed "s/\~\//\/home\/$USER\//")

i3promotewindow

nvim "$substituted"
