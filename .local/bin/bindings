#!/usr/bin/env bash

# Define keybindings and their descriptions
declare -A keybindings=(
	["Alt+/"]="Show custom shortcuts"
	["Alt+;"]="Stream clipboard video link"
	["Alt+B"]="Connect bluetooth device $HEADPHONES"
	["Alt+C"]="Connect Reaper outputs"
	["Alt+Comma"]="st -e rangerstart"
	["Alt+Control+D"]="Clear the current mpd playlist"
	["Alt+Control+D"]="mpc --host /run/user/1000/mpd/socket clear"
	["Alt+Control+H"]="Seek backward in music track"
	["Alt+Control+H"]="musicseekbackward"
	["Alt+Control+J"]="Play next music track"
	["Alt+Control+J"]="musicnext"
	["Alt+Control+K"]="Play previous music track"
	["Alt+Control+K"]="musicprev"
	["Alt+Control+L"]="Seek forward in music track"
	["Alt+Control+M"]="measure"
	["Alt+Control+Return"]="st -e ncmpcpp"
	["Alt+Control+Space"]="Play/pause music"
	["Alt+Control+Space"]="musicplaypause"
	["Alt+D"]="Type the current date"
	["Alt+D"]="Type the current date"
	["Alt+E"]="Toggle the touchpad"
	["Alt+F"]="Toggle fullscreen mode"
	["Alt+F1"]="Open Arch Linux wiki in default browser"
	["Alt+F1"]="bindings"
	["Alt+F2"]="Change screen resolution"
	["Alt+F2"]="resolution"
	["Alt+F3"]="Reset display to default"
	["Alt+F3"]="displaydefault"
	["Alt+F4"]="st -T PulseMixer -e pulsemixer"
	["Alt+F6"]="torwrap"
	["Alt+F7"]="Toggle todo list display"
	["Alt+F7"]="td-toggle"
	["Alt+F8"]="Mount devices"
	["Alt+F8"]="mounter"
	["Alt+F9"]="Unmount devices"
	["Alt+F9"]="unmounter"
	["Alt+F10"]="Preview camera output"
	["Alt+F10"]="campreview"
	["Alt+F11"]="Start screen recording"
	["Alt+F11"]="dmenurecord"
	["Alt+F12"]="Kill screen recording"
	["Alt+F12"]="killrecording"
	["Alt+M"]="Connect with Mullvad VPN"
	["Alt+M"]="mullvadconnect"
	["Alt+N"]="cd ~/Dropbox/NOTES/; st -T TODO -e nvim ~/Dropbox/NOTES/TODO.md"
	["Alt+O"]="Open video file with fzf"
	["Alt+O"]="fzfvideo"
	["Alt+P"]="Paste to clipboard stack"
	["Alt+P"]="prependclipboard ~/Dropbox/NOTES/TODO.md"
	["Alt+Period"]="qutebrowser"
	["Alt+Q"]="qpwgraph"
	["Alt+R"]="reaper"
	["Alt+Return"]="dmenu_run"
	["Alt+S"]="st -T SuperCollider -e tmuxsession SuperCollider 'supercollider'"
	["Alt+Semicolon"]="clipstream"
	["Alt+Shift+/"]="Open vim with fzf"
	["Alt+Shift+;"]="Download clipboard video link"
	["Alt+Shift+="]="Run calculator"
	["Alt+Shift+B"]="Disconnect Bluetooth headphones"
	["Alt+Shift+B"]="bluetoothctl disconnect $HEADPHONES"
	["Alt+Shift+C"]="calendar"
	["Alt+Shift+Control+0"]="Kill all active timers"
	["Alt+Shift+Control+1"]="Set a timer for 60 minutes"
	["Alt+Shift+Control+2"]="Set a timer for 30 minutes"
	["Alt+Shift+Control+3"]="Set a timer for 20 minutes"
	["Alt+Shift+Control+4"]="Set a timer for 15 minutes"
	["Alt+Shift+Control+;"]="Download clipboard video link as mp3"
	["Alt+Shift+Control+B"]="Open Bluetooth settings with blueberry"
	["Alt+Shift+Control+B"]="blueberry"
	["Alt+Shift+Control+L"]="Lock screen with slock"
	["Alt+Shift+Control+M"]="Sync mail"
	["Alt+Shift+Control+M"]="Toggle touchpad"
	["Alt+Shift+Control+P"]="Power off system"
	["Alt+Shift+Control+P"]="poweroff"
	["Alt+Shift+Control+R"]="Reboot system"
	["Alt+Shift+Control+R"]="reboot"
	["Alt+Shift+Control+Return"]="tidal-hifi"
	["Alt+Shift+Control+Semicolon"]="clipdownload -a"
	["Alt+Shift+Control+T"]="st -e tt -theme dracula"
	["Alt+Shift+D"]="st -e dwmrebuild"
	["Alt+Shift+E"]="touchpaddisablewhiletypingtoggle"
	["Alt+Shift+Equal"]="calculate"
	["Alt+Shift+F3"]="Select display configuration"
	["Alt+Shift+F3"]="displayselect"
	["Alt+Shift+F4"]="pavucontrol"
	["Alt+Shift+Grave"]="dmenuunicode"
	["Alt+Shift+I"]="Invert screen colors"
	["Alt+Shift+I"]="xcalib -i -a"
	["Alt+Shift+M"]="Disconnect Mullvad VPN"
	["Alt+Shift+M"]="mullvaddisconnect"
	["Alt+Shift+N"]="st -e ~/.local/bin/fzfnotes"
	["Alt+Shift+O"]="Search and play YouTube videos with ytfzf"
	["Alt+Shift+P"]="Password manager"
	["Alt+Shift+P"]="passmenu"
	["Alt+Shift+Period"]="bravestart"
	["Alt+Shift+R"]="Rebuild dwm"
	["Alt+Shift+R"]="pkill -usr1 -x sxhkd && notify-send 'Reloaded sxhkd config'"
	["Alt+Shift+Return"]="st"
	["Alt+Shift+S"]="tmux kill-session -t SuperCollider"
	["Alt+Shift+Semicolon"]="clipdownload"
	["Alt+Shift+Slash"]="typesnippet"
	["Alt+Shift+T"]="st -e nvtop"
	["Alt+Shift+X"]="xkill"
	["Alt+Shift+\`"]="Open dmenu for unicode characters"
	["Alt+Slash"]="st -e ~/.local/bin/shortcuts"
	["Alt+T"]="st -e btop"
	["Alt+Y"]="Yank (copy) from clipboard stack"
	["Alt+Y"]="ytfzf -m --mpv-opts='--ytdl-format=bestvideo[height<=480]+bestaudio/best[height<=480]' -D"
	["Print"]="maim -f jpg -m 9 "/home/flex/Pictures/SCREENSHOTS/$(date +'%F %H_%M_%S.jpg')""
	["Shift+Print"]="Take a selective screenshot with maim"
	["Shift+Print"]="maim -f jpg -m 9 -s "/home/flex/Pictures/SCREENSHOTS/$(date +'%F %H_%M_%S.jpg')""
	["Super+Print"]="Take a screenshot with maim"
	["Super+XF86AudioLowerVolume"]="Decrease volume"
	["Super+XF86AudioMicMute"]="Toggle microphone mute"
	["Super+XF86AudioMute"]="Toggle mute"
	["Super+XF86AudioRaiseVolume"]="Increase volume"
	["Super+XF86MonBrightnessDown"]="Decrease screen brightness"
	["Super+XF86MonBrightnessUp"]="Increase screen brightness"
	["XF86AudioLowerVolume"]="pamixer --allow-boost -d 3; kill -44 $(pidof dwmblocks)"
	["XF86AudioMicMute"]="amixer set Capture toggle"
	["XF86AudioMute"]="pamixer -T; kill -44 $(pidof dwmblocks)"
	["XF86AudioRaiseVolume"]="pamixer --allow-boost -i 3; kill -44 $(pidof dwmblocks)"
	["XF86MonBrightnessDown"]="brightnessdown"
	["XF86MonBrightnessUp"]="brightnessup"
)

# Prepare the list for dmenu
keybindings_list=""
for key in "${!keybindings[@]}"; do
  keybindings_list+="$key -- ${keybindings[$key]}\n"
done

# Pipe the list into dmenu
selected=$(echo -e "$keybindings_list" | dmenu -i -l 20 -p "Keys:")

# Display the selected keybinding (optional)
# notify-send "Selected Keybinding" "$selected"
