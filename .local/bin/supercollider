#!/bin/bash

# for x in "reaper" "alacritty" "supercollider" "neovim" "zsh";do
for x in "supercollider" "neovim" "zsh";do
	pacman -Qq "$x" >/dev/null 2>&1 && installed='true' ||
		{ notify-send "$x is missing" && exit 1 ;}
done

if [ $installed == 'true' ]; then
		# sleep 1
		# PIPEWIRE_LATENCY="1024/48000" reaper -audiocfg &
		# reaper -audiocfg &
		
		st -t SuperCollider -e zsh -c "cd ~/Dropbox/SUPERCOLLIDER/; nvim \"$(ls ~/Dropbox/SUPERCOLLIDER | awk '/^[0-9]/{print}' | awk 'END{printf $0}')\" -c \"set filetype=supercollider | SCNvimStart\"" &
fi
