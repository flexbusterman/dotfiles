# for image.nvim
set -gq allow-passthrough on
set -g visual-activity off

# set -sg escape-time 0
setw -g mode-keys vi
set -g status-interval 1
set -g status-style 'fg=colour7 bg=colour18'
set -g status-right "#[fg=colour243,bg=colour18]#(taskscript -t)#[fg=colour243,bg=colour19] %Y-%m-%d #[fg=colour7,bg=colour21] %H:%M "

# AI slop to get clipboard working with primary clipboard
unbind ]
bind-key ] run-shell 'wl-paste --primary --no-newline | tmux load-buffer -b __primary__ -' \; paste-buffer -p -b __primary__ \; delete-buffer -b __primary__

# Optional: keep the original tmux buffer paste on C-]
bind-key C-] paste-buffer -p

# If you want yanks from tmux copy-mode to go to Wayland PRIMARY:
# (requires tmux >= 3.2; documented under set-clipboard and copy-command)
set -g set-clipboard external
set -s copy-command 'wl-copy --primary'

# Ensure Wayland vars propagate into tmux so wl-paste/wl-copy work
# (documented under update-environment)
set -ga update-environment " WAYLAND_DISPLAY XDG_RUNTIME_DIR"
